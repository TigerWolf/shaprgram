<table class="ink-table">
  <thead>
    <% project.records.first.data.keys.each do |heading| %>
      <th><%= heading.to_s.titleize %></th>
    <% end %>
  </thead>

  <tbody>
    <% project.records.each do |record| %>
      <tr>
        <% record.data.keys.each do |heading| %>
          <% if heading == :the_geom %>
            <td><%= link_to "View", '#', :data => record.data.merge(coords: "-34.9290,138.6010") %></td>
          <% elsif heading == :image_url %>
            <% if !record.data[heading] %>
              <td>
                <form>
                  <input type="file" title="TODO: http://jsfiddle.net/fyneworks/2LLws/ ?" class="ink-button" />
                  <button class="ink-button">Upload</button>
                </form>
              </td>
            <% end %>
          <% else %>
            <td><%= record.data[heading] %></td>
          <% end %>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>